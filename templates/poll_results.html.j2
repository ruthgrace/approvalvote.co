<html>

<head>
  <title>Approval Voting</title>
  <!-- Include htmx via CDN -->
  <script src="https://unpkg.com/htmx.org@1.9.2"></script>
  <!-- Tailwind CSS via CDN -->
  <link
    href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.1/dist/tailwind.min.css"
    rel="stylesheet"
  />
  <!-- ApexCharts CDN -->
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>

<body>
  <h1>Poll results!</h1>
  <p>{{winners}}</p>
  <p>{{ties}}</p>
  <hr />
  <p>Did you have a different preferred result?</p>
  <p>You can see how many more votes the winners got than your preferred result. What was your preferred result?</p>
  <form hx-post="/resultsubmit" hx-target="#resultresponse" hx-swap="innerHTML">
    <input type="hidden" name="poll_id" value="{{ poll_id }}" />
    <input type="hidden" name="seats" value="{{ seats }}" />
    {% for id, candidate in candidates.items() %}
    <label>
      <input type="checkbox" name="poll_option" value="{{id}}|{{candidate}}" /> {{candidate}}
    </label>
    <br />
    {% endfor %}
    <br />
    <button type="resultsubmit">See how close your preferred candidates were to winning</button>
  </form>
  <div id="resultresponse"></div>
</body>

</html>